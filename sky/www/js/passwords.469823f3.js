import{e as z,_ as D,I as Z,g as j}from"../index.js";/* empty css              *//* empty css              *//* empty css              *//* empty css               */import{f as H,r as A,J as l,K as v,F as $,b3 as S,b4 as g,aO as m,aP as e,l as t,aZ as f,a_ as V,N as F,aT as U,aX as q,aY as Q,aa as G,be as J,a8 as K,bn as L,ae as M,a$ as R,b0 as W,b9 as O,bq as ee}from"./arco.4b5efef7.js";import{u as X}from"./vue.54530f4c.js";const ie=()=>z.get("/setting/info"),_e=s=>z.post("/setting/save",s);const te=s=>(R("data-v-d661a6cc"),s=s(),W(),s),oe=te(()=>F("span",null,"Any",-1)),ne={__name:"ips",props:{modelValue:{type:Array,default(){return[]}},list:{type:Array,default(){return[]}}},emits:["update:modelValue"],setup(s,{emit:B}){const{t:h}=X(),c=s,k=H(()=>c.modelValue.includes("*")||c.list.includes("*")),d=B,a=A(null),_=A(!1),x=()=>{if(!a.value){U.error(h("portsetting.enter.ip"));return}if(c.list.includes(a.value)||c.modelValue.includes(a.value)){U.error(h("portsetting.existing.ip.whitelist"));return}d("update:modelValue",[...c.modelValue,a.value]),a.value=null,_.value=!1},w=u=>{const r=[];c.modelValue.forEach(y=>{y!=u&&r.push(y)}),d("update:modelValue",r)},p=()=>{a.value="*",x()},n=()=>{const u=[];c.modelValue.forEach(r=>{r!="*"&&u.push(r)}),d("update:modelValue",u)};return(u,r)=>{const y=Z,I=O,C=q,E=Q,N=G,P=J,T=K,o=L,b=M;return l(),v("div",null,[k.value?g("",!0):(l(!0),v($,{key:0},S(s.list,i=>(l(),m(I,{key:i,class:"tag",color:"gray",onClose:Y=>w(i)},{icon:e(()=>[t(y)]),default:e(()=>[f(" "+V(i),1)]),_:2},1032,["onClose"]))),128)),k.value?(l(),m(E,{key:2},{default:e(()=>[oe,t(C,{type:"outline",size:"mini",onClick:n},{default:e(()=>[f(V(u.$t("portsetting.close")),1)]),_:1})]),_:1})):(l(!0),v($,{key:1},S(s.modelValue,i=>(l(),v($,{key:i},[s.list.includes(i)?g("",!0):(l(),m(I,{key:0,class:"tag",closable:"",color:"gray",onClose:Y=>w(i)},{icon:e(()=>[t(y)]),default:e(()=>[f(" "+V(i),1)]),_:2},1032,["onClose"]))],64))),128)),_.value?(l(),m(o,{key:3,modelValue:a.value,"onUpdate:modelValue":r[1]||(r[1]=i=>a.value=i),style:{width:"260px"},placeholder:u.$t("portsetting.enter.correct.ip")},{prefix:e(()=>[t(P,{content:u.$t("portsetting.cancel.add")},{default:e(()=>[t(N,{style:{cursor:"pointer"},onClick:r[0]||(r[0]=i=>{_.value=!1,a.value=null})})]),_:1},8,["content"])]),suffix:e(()=>[t(E,null,{default:e(()=>[F("span",null,[t(C,{type:"text",size:"mini",onClick:p},{default:e(()=>[f("Any")]),_:1})]),t(P,{content:u.$t("portsetting.confirm.add.ip")},{default:e(()=>[t(T,{style:{cursor:"pointer"},onClick:x})]),_:1},8,["content"])]),_:1})]),_:1},8,["modelValue","placeholder"])):g("",!0),!_.value&&!k.value?(l(),m(C,{key:4,type:"outline",onClick:r[2]||(r[2]=i=>_.value=!0)},{icon:e(()=>[t(b)]),default:e(()=>[f(" Add IP ")]),_:1})):g("",!0)])}}},me=D(ne,[["__scopeId","data-v-d661a6cc"]]);const le={__name:"passwords",props:{modelValue:{type:Array,default(){return[]}},list:{type:Array,default(){return[]}}},emits:["update:modelValue"],setup(s,{emit:B}){const{t:h}=X(),c=s,k=B,d=A(null),a=A(null),_=A(!1),x=()=>{if(!d.value||!a.value){U.error(h("portsetting.enter.account.password"));return}let p=!1;if(c.list.forEach(n=>{n.username==d.value&&(p=!0)}),c.modelValue.forEach(n=>{n.username==d.value&&(p=!0)}),p==!0){U.error(h("portsetting.existing.user"));return}k("update:modelValue",[...c.modelValue,{username:d.value,password:a.value}]),d.value=null,a.value=null,_.value=!1},w=p=>{const n=[];c.modelValue.forEach(u=>{u!=p&&n.push(u)}),k("update:modelValue",n)};return(p,n)=>{const u=j,r=O,y=G,I=J,C=L,E=K,N=ee,P=M,T=q;return l(),v("div",null,[(l(!0),v($,null,S(s.list,o=>(l(),m(r,{key:o,class:"tag",color:"gray",onClose:b=>w(o)},{icon:e(()=>[t(u)]),default:e(()=>[f(" "+V(o.username)+":"+V(o.password),1)]),_:2},1032,["onClose"]))),128)),(l(!0),v($,null,S(s.modelValue,o=>(l(),v($,{key:o},[s.list.filter(b=>b.username==o.username).length==0?(l(),m(r,{key:0,class:"tag",closable:"",color:"gray",onClose:b=>w(o)},{icon:e(()=>[t(u)]),default:e(()=>[f(" "+V(o.username)+":"+V(o.password),1)]),_:2},1032,["onClose"])):g("",!0)],64))),128)),_.value?(l(),m(N,{key:0},{default:e(()=>[t(C,{modelValue:d.value,"onUpdate:modelValue":n[1]||(n[1]=o=>d.value=o),style:{width:"160px"},placeholder:p.$t("portsetting.account")},{prefix:e(()=>[t(I,{content:p.$t("portsetting.cancel.add")},{default:e(()=>[t(y,{style:{cursor:"pointer"},onClick:n[0]||(n[0]=o=>{_.value=!1,d.value=null,a.value=null})})]),_:1},8,["content"])]),_:1},8,["modelValue","placeholder"]),t(C,{modelValue:a.value,"onUpdate:modelValue":n[2]||(n[2]=o=>a.value=o),style:{width:"160px"},placeholder:p.$t("portsetting.password")},{suffix:e(()=>[t(I,{content:p.$t("portsetting.confirm.add")},{default:e(()=>[t(E,{style:{cursor:"pointer"},onClick:x})]),_:1},8,["content"])]),_:1},8,["modelValue","placeholder"])]),_:1})):g("",!0),_.value?g("",!0):(l(),m(T,{key:1,type:"outline",onClick:n[3]||(n[3]=o=>_.value=!0)},{icon:e(()=>[t(P)]),default:e(()=>[f(" Add User ")]),_:1}))])}}},fe=D(le,[["__scopeId","data-v-b20c94b7"]]);export{me as I,fe as P,ie as i,_e as s};
